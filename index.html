<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nordic Journal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.12.0/cdn.min.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Noto+Serif+TC:wght@300;500;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-paper: #FDFBF8;
            --text-dark: #2C2825;
            --text-light: #8E8883;
            --accent-gold: #C5A47E;
            --line-color: #E8E4DF;
        }

        body {
            font-family: 'Noto Serif TC', serif;
            background-color: var(--bg-paper);
            color: var(--text-dark);
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
        }

        /* Âô™ÈªûË≥™ÊÑü - Ê®°Êì¨Á¥ôÂºµ */
        .noise-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        .sans-font { font-family: 'Lato', sans-serif; }
        .serif-en { font-family: 'Playfair Display', serif; }

        /* ÂãïÁï´ÂÆöÁæ© */
        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .anim-enter {
            animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
        }
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }

        /* Ê•µÁ∞°Âç°Áâá */
        .clean-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0,0,0,0.03);
            border-radius: 2px;
            box-shadow: 0 10px 40px -10px rgba(44, 40, 37, 0.08);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .tag-minimal {
            font-size: 0.65rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            padding: 2px 8px;
            border: 1px solid var(--line-color);
            border-radius: 99px;
            color: var(--text-light);
            background: #fff;
        }

        .nav-blur {
            background: rgba(253, 251, 248, 0.85);
            backdrop-filter: blur(12px);
            border-top: 1px solid rgba(0,0,0,0.03);
        }

        /* ÂúñÁâáËÉåÊôØÈÅÆÁΩ©ÁâπÊïà - Ë™øÊï¥ÁÇ∫ÈÅ©ÂêàÊ∑±Ëâ≤ÂúñÁâáÁöÑËûçÂêà */
        .img-mask-gradient {
            background: linear-gradient(to bottom, 
                rgba(253, 251, 248, 0.1) 0%, 
                rgba(253, 251, 248, 0.6) 40%, 
                rgba(253, 251, 248, 1) 90%);
        }
    </style>
</head>
<body x-data="tripApp()">
    
    <div class="noise-overlay"></div>

    <!-- È†ÇÈÉ® Header -->
    <header class="fixed top-0 w-full z-40 bg-[#FDFBF8]/90 backdrop-blur-sm pt-14 pb-4 px-6 transition-all duration-300 border-b border-transparent"
            :class="{'border-[#E8E4DF] shadow-sm': scrolled}">
        <div class="flex justify-between items-end max-w-md mx-auto anim-enter">
            <div>
                <p class="sans-font text-[10px] tracking-[0.3em] text-[#8E8883] uppercase mb-1">Itinerary</p>
                <h1 class="text-2xl font-medium tracking-wide text-[#2C2825]">Nordic <span class="serif-en italic">2025</span></h1>
            </div>
            <div class="text-right">
                <div class="text-xl serif-en text-[#2C2825]" x-text="activeDay.shortDateOnly"></div>
                <div class="text-[10px] tracking-[0.2em] uppercase text-[#8E8883]" x-text="activeDay.weekday"></div>
            </div>
        </div>
    </header>

    <main class="pt-32 pb-32 px-5 max-w-md mx-auto min-h-screen" @scroll.window="scrolled = (window.pageYOffset > 20)">
        
        <!-- Tab: Ë°åÁ®ã -->
        <div x-show="activeTab === 'itinerary'" class="space-y-8">
            
            <!-- Êó•ÊúüÈÅ∏ÊìáÂô® -->
            <div class="flex overflow-x-auto space-x-5 pb-4 px-2 no-scrollbar snap-x anim-enter delay-1">
                <template x-for="(day, index) in itinerary" :key="index">
                    <button @click="scrollToDay(index)" 
                            class="flex-shrink-0 flex flex-col items-center justify-center space-y-2 snap-center group transition-all duration-300">
                        <span class="text-[10px] sans-font tracking-widest text-[#8E8883] group-hover:text-[#2C2825]" x-text="day.weekday"></span>
                        <div class="w-10 h-10 rounded-full flex items-center justify-center border transition-all duration-500 serif-en text-lg"
                             :class="activeDayIndex === index ? 'border-[#2C2825] bg-[#2C2825] text-[#FDFBF8]' : 'border-transparent text-[#2C2825] hover:border-[#E8E4DF]'">
                            <span x-text="day.shortDateOnly"></span>
                        </div>
                    </button>
                </template>
            </div>

            <!-- ‰∏ªË°åÁ®ãÂç°ÁâáÂçÄÂüü -->
            <div :key="activeDayIndex" class="anim-enter delay-2">
                
                <!-- ÂúñÁâáËÉåÊôØÂçÄÂüü -->
                <div class="relative -mx-5 -mt-6 mb-6 h-72 overflow-hidden transition-all duration-700" x-show="activeDay.image">
                    <!-- ÂúñÁâáÔºöÁ®çÂæÆÊîæÂ§ß„ÄÅÈúßÂåñ„ÄÅÈÄèÊòéÂ∫¶Ë™øÊï¥‰ª•ÈÅ©ÊáâÊñáÂ≠ó -->
                    <img :src="activeDay.image" class="w-full h-full object-cover filter blur-[2px] scale-110 opacity-80 transition-transform duration-[20s] ease-out transform hover:scale-100">
                    <!-- Êº∏Â±§ÈÅÆÁΩ© -->
                    <div class="absolute inset-0 img-mask-gradient"></div>
                </div>

                <!-- Âú∞ÈªûÂ§ßÊ®ôÈ°å -->
                <div class="text-center mb-8 relative z-10" :class="activeDay.image ? '-mt-28' : ''">
                    <div class="inline-flex items-center gap-2 text-[#8E8883] text-xs sans-font tracking-widest uppercase mb-2 bg-[#FDFBF8]/70 px-3 py-1 rounded-full backdrop-blur-md shadow-sm border border-white/50">
                        <span x-text="activeDay.weatherIcon"></span>
                        <span x-text="activeDay.temp"></span>
                    </div>
                    
                    <h2 class="text-4xl font-medium text-[#2C2825] mb-1 drop-shadow-sm" x-text="activeDay.location"></h2>
                    <div class="h-[1px] w-8 bg-[#C5A47E] mx-auto my-3"></div>
                    <p class="text-sm text-[#8E8883] font-light tracking-wide bg-[#FDFBF8]/60 inline-block px-3 py-1 rounded backdrop-blur-sm" x-text="activeDay.title"></p>
                </div>

                <!-- ÊØèÊó•Ë°åÁ®ãÂàóË°® -->
                <div class="clean-card p-6 md:p-8 relative overflow-hidden">
                    <div class="space-y-10 relative">
                        <div class="absolute left-[6px] top-2 bottom-2 w-[1px] bg-[#E8E4DF]"></div>

                        <template x-for="(item, idx) in activeDay.items" :key="idx">
                            <div class="relative pl-8 anim-enter" :style="`animation-delay: ${0.3 + (idx * 0.1)}s`">
                                <div class="absolute left-0 top-2 w-[13px] h-[13px] rounded-full border border-[#FDFBF8] shadow-sm z-10 flex items-center justify-center"
                                     :class="getTypeColor(item.type)">
                                     <div class="w-[3px] h-[3px] rounded-full bg-white"></div>
                                </div>
                                
                                <div>
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="serif-en text-sm font-bold text-[#C5A47E]" x-text="item.time"></span>
                                        <span class="tag-minimal" x-text="getTypeLabel(item.type)"></span>
                                    </div>
                                    <h3 class="text-lg font-medium text-[#2C2825] leading-relaxed" x-html="item.name"></h3>
                                    <p class="text-sm text-[#8E8883] mt-2 leading-relaxed font-light" x-html="item.desc"></p>
                                    
                                    <template x-if="item.tips">
                                        <div class="mt-4 pl-3 border-l-2 border-[#C5A47E]/30 text-xs text-[#6B6661] italic leading-relaxed">
                                            <span class="not-italic mr-1 opacity-70">‚ú¶</span> <span x-html="item.tips"></span>
                                        </div>
                                    </template>

                                    <button @click="openMap(item.name, activeDay.location)" 
                                            class="mt-4 text-xs sans-font tracking-widest uppercase border-b border-[#2C2825] pb-0.5 hover:opacity-60 transition-opacity">
                                        Navigate ‚Üí
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>

                    <div class="mt-10 pt-6 border-t border-[#E8E4DF] flex items-center justify-between text-[#8E8883]">
                        <span class="text-[10px] tracking-[0.2em] uppercase">Accommodation</span>
                        <span class="text-sm font-medium text-[#2C2825]" x-text="activeDay.hotel"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Â∑•ÂÖ∑ -->
        <div x-show="activeTab === 'tools'" class="space-y-6" x-cloak>
            <h2 class="text-3xl font-medium text-[#2C2825] mb-6 anim-enter">Travel Essentials</h2>

            <!-- Ëà™Áè≠Âç° -->
            <div class="clean-card p-6 anim-enter delay-1">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="serif-en text-lg italic text-[#2C2825]">Flights</h3>
                    <div class="w-2 h-2 rounded-full bg-[#C5A47E]"></div>
                </div>
                
                <div class="space-y-6">
                    <div class="flex justify-between items-center group">
                        <div class="text-center">
                            <div class="serif-en text-2xl font-bold">TPE</div>
                            <div class="text-[10px] uppercase tracking-wider text-[#8E8883]">Taipei</div>
                        </div>
                        <div class="flex-1 px-4 flex flex-col items-center">
                            <span class="text-[10px] text-[#C5A47E] mb-1">5/17</span>
                            <div class="w-full h-[1px] bg-[#E8E4DF] relative">
                                <div class="absolute right-0 -top-[3px] w-1.5 h-1.5 rounded-full bg-[#E8E4DF]"></div>
                            </div>
                            <span class="text-[10px] text-[#8E8883] mt-1">16h 10m</span>
                        </div>
                        <div class="text-center">
                            <div class="serif-en text-2xl font-bold">CPH</div>
                            <div class="text-[10px] uppercase tracking-wider text-[#8E8883]">Copenhagen</div>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-t border-[#E8E4DF] pt-4">
                        <div class="text-xs text-[#2C2825]">
                            <span class="block text-[#8E8883] text-[10px] uppercase tracking-wider mb-1">Return (Brother)</span>
                            CPH ‚Üí TPE <span class="serif-en ml-2">6/2</span>
                        </div>
                        <div class="serif-en text-sm">11:55</div>
                    </div>
                    
                     <div class="flex justify-between items-center border-t border-[#E8E4DF] pt-4">
                        <div class="text-xs text-[#2C2825]">
                            <span class="block text-[#8E8883] text-[10px] uppercase tracking-wider mb-1">Return (Main)</span>
                            CPH ‚Üí TPE <span class="serif-en ml-2">6/6</span>
                        </div>
                        <div class="serif-en text-sm">11:55</div>
                    </div>
                </div>
            </div>

            <!-- Á∑äÊÄ•Ë≥áË®ä -->
            <div class="clean-card p-6 anim-enter delay-2 bg-[#F9F5F1]">
                <h3 class="serif-en text-lg italic text-[#C0392B] mb-4">Emergency</h3>
                <div class="flex gap-4">
                    <a href="tel:112" class="flex-1 bg-white py-3 border border-[#E8E4DF] text-center text-xs tracking-widest font-bold text-[#C0392B]">
                        SOS 112
                    </a>
                    <a href="tel:+4533123456" class="flex-1 bg-white py-3 border border-[#E8E4DF] text-center text-xs tracking-widest font-bold text-[#2C2825]">
                        EMBASSY
                    </a>
                </div>
            </div>

             <!-- Ë®òÂ∏≥ -->
            <div class="clean-card p-6 anim-enter delay-3">
                 <h3 class="serif-en text-lg italic text-[#2C2825] mb-4">Budget</h3>
                 <div class="flex items-end gap-3 mb-6">
                    <input type="text" x-model="newExpenseName" placeholder="Item" class="flex-1 bg-transparent border-b border-[#E8E4DF] py-2 text-sm focus:outline-none focus:border-[#2C2825] transition-colors">
                    <input type="number" x-model="newExpenseAmount" placeholder="$$$" class="w-20 bg-transparent border-b border-[#E8E4DF] py-2 text-sm font-serif focus:outline-none focus:border-[#2C2825] transition-colors text-right">
                    <button @click="addExpense" class="text-xl text-[#2C2825] pb-1 hover:opacity-50">+</button>
                 </div>
                 <div class="space-y-3">
                     <template x-for="(exp, i) in expenses" :key="i">
                        <div class="flex justify-between text-sm items-center">
                            <span class="text-[#8E8883]" x-text="exp.name"></span>
                            <span class="serif-en text-[#2C2825]" x-text="exp.amount"></span>
                        </div>
                    </template>
                 </div>
                  <div class="mt-6 pt-4 border-t border-[#E8E4DF] flex justify-between items-center">
                    <span class="text-[10px] uppercase tracking-widest text-[#8E8883]">Total Spent</span>
                    <span class="serif-en text-lg font-bold text-[#2C2825]" x-text="totalExpense"></span>
                </div>
            </div>
        </div>

    </main>

    <!-- Â∫ïÈÉ®Â∞éËà™ -->
    <nav class="fixed bottom-0 w-full nav-blur z-50 pb-safe">
        <div class="flex justify-center items-center h-16 max-w-md mx-auto gap-12">
            <button @click="activeTab = 'itinerary'" class="group relative px-4 py-2">
                <span class="text-xs uppercase tracking-[0.2em] font-medium transition-colors duration-300"
                      :class="activeTab === 'itinerary' ? 'text-[#2C2825]' : 'text-[#B0ABA5]'">Journey</span>
                <div class="absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 rounded-full bg-[#2C2825] transition-all duration-300"
                     :class="activeTab === 'itinerary' ? 'opacity-100' : 'opacity-0'"></div>
            </button>
            
            <div class="w-[1px] h-4 bg-[#E8E4DF]"></div>

            <button @click="activeTab = 'tools'" class="group relative px-4 py-2">
                <span class="text-xs uppercase tracking-[0.2em] font-medium transition-colors duration-300"
                      :class="activeTab === 'tools' ? 'text-[#2C2825]' : 'text-[#B0ABA5]'">Tools</span>
                <div class="absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 rounded-full bg-[#2C2825] transition-all duration-300"
                     :class="activeTab === 'tools' ? 'opacity-100' : 'opacity-0'"></div>
            </button>
        </div>
    </nav>

    <script>
        function tripApp() {
            // ÂúñÁâáË®≠ÂÆöÂçÄ
            // 1. ÊñØÂæ∑Âì•ÁàæÊë©ÂúñÁâá
            const stockholmImage = "https://images.unsplash.com/photo-1509356843151-3e7d96241e11?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80";
            
            // 2. ÂÜ∞Â≥∂ÂúñÁâá (ÈªëÊ≤ôÁÅò/Êá∏Â¥ñ/Èõ™ÊôØ/ÊÜÇÈ¨±ÊÑü) - Â∑≤Êõ¥ÊèõÁÇ∫È°û‰ººÈ¢®Ê†º
            const icelandImage = "https://images.unsplash.com/photo-1521614460515-d9154a4313f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80";

            return {
                activeTab: 'itinerary',
                activeDayIndex: 0,
                scrolled: false,
                newExpenseName: '',
                newExpenseAmount: '',
                expenses: [],
                
                itinerary: [
                    { day: 1, date: "5Êúà17Êó•", shortDateOnly: "17", weekday: "SUN", location: "Flight", title: "Âá∫ÁôºÂâçÂæÄÂì•Êú¨ÂìàÊ†π", weatherIcon: "‚úàÔ∏è", temp: "-", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "16:10", type: "transport", name: "Âè∞ÂåóÂá∫Áôº", desc: "È£õÂæÄÂì•Êú¨ÂìàÊ†π (CPH)", tips: "Èï∑ÈÄîÈ£õË°åË´ãË®òÂæóÊîúÂ∏∂È†∏Êûï„ÄÅ‰øùÊøïÁî®ÂìÅ„ÄÇ" },
                        { time: "Evening", type: "transport", name: "ÂâçÂæÄÈ¶¨ÁàæÈªò", desc: "√ñresundst√•g Ë∑®Êµ∑ÁÅ´Ëªä", tips: "ÁÅ´ËªäÁ´ôÂú®Ê©üÂ†¥Âú∞‰∏ãÊ®ìÂ±§ÔºåÁõ¥ÈÅîÁëûÂÖ∏„ÄÇ" }
                    ]},
                    { day: 2, date: "5Êúà18Êó•", shortDateOnly: "18", weekday: "MON", location: "Malm√∂", title: "ÊäµÈÅîËàá‰ºëÊÅØ", weatherIcon: "üå•Ô∏è", temp: "13¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "07:00", type: "transport", name: "ÊäµÈÅîÊ©üÂ†¥", desc: "Âì•Êú¨ÂìàÊ†πÊ©üÂ†¥ÂÖ•Â¢É" },
                        { time: "All Day", type: "rest", name: "Ë™øÊï¥ÊôÇÂ∑Æ", desc: "Â∏ÇÂçÄÊº´ÈÅä", tips: "Lilla Torg Â∞èÂª£Â†¥ÈÅ©ÂêàÂñùÂíñÂï°ÊîæÈ¨Ü„ÄÇ" }
                    ]},
                    
                    // --- ÂÜ∞Â≥∂Ë°åÁ®ã (Âä†ÂÖ• icelandImage) ---
                    { day: 3, date: "5Êúà19Êó•", shortDateOnly: "19", weekday: "TUE", location: "Iceland", image: icelandImage, title: "È£õÂæÄÂÜ∞Â≥∂", weatherIcon: "üå¨Ô∏è", temp: "8¬∞", hotel: "Èõ∑ÂÖãÈõÖÁ∂≠ÂÖã", items: [
                        { time: "AM/PM", type: "transport", name: "È£õÂæÄÂÜ∞Â≥∂", desc: "CPH ‚Üí KEF Ê©üÂ†¥" },
                        { time: "Night", type: "spot", name: "ÊäµÈÅîÂ∏ÇÂçÄ", desc: "ÂÖ•‰ΩèÈ£ØÂ∫ó", tips: "Êé®Ëñ¶ B√¶jarins Beztu Pylsur ÁÜ±ÁãóÂ†°„ÄÇ" }
                    ]},
                    { day: 4, date: "5Êúà20Êó•", shortDateOnly: "20", weekday: "WED", location: "Iceland", image: icelandImage, title: "ÈªÉÈáëÂúà‰∏ÄÊó•ÈÅä", weatherIcon: "üåßÔ∏è", temp: "7¬∞", hotel: "Èõ∑ÂÖãÈõÖÁ∂≠ÂÖã", items: [
                        { time: "Morning", type: "spot", name: "ËæõÊ†ºÁ∂≠Âà©Áàæ", desc: "√ûingvellir ÂúãÂÆ∂ÂÖ¨Âúí", tips: "Ê≠êÁæéÊùøÂ°ä‰∫§ÁïåËôï„ÄÇ" },
                        { time: "Noon", type: "spot", name: "ÈñìÊ≠áÊ≥â", desc: "Geysir", tips: "Á´ôÂú®‰∏äÈ¢®Ëôï‰ª•ÂÖçÊ∑ãÊøï„ÄÇ" },
                        { time: "PM", type: "spot", name: "ÈªÉÈáëÁÄëÂ∏É", desc: "Gullfoss", tips: "Ê∞¥ÈáèÂ∑®Â§ßÔºåÁ©øÈò≤Ê∞¥Â§ñÂ•ó„ÄÇ" },
                        { time: "Bonus", type: "spot", name: "ÁÅ´Â±±Âè£Êπñ", desc: "Keri√∞", tips: "Á¥ÖËâ≤ÁÅ´Â±±Â≤©ËàáËóçÁ∂†ÊπñÊ∞¥„ÄÇ" }
                    ]},
                    { day: 5, date: "5Êúà21Êó•", shortDateOnly: "21", weekday: "THU", location: "Iceland", image: icelandImage, title: "ËóçÊπñËàáÂ∏ÇÂçÄ", weatherIcon: "üå§Ô∏è", temp: "9¬∞", hotel: "ÂáåÊô®È£õÊ©ü", items: [
                        { time: "AM", type: "spot", name: "Â∏ÇÂçÄËßÄÂÖâ", desc: "ÂìàÁàæÊ†ºÊûóÂßÜÊïôÂ†Ç", tips: "ÂèØÁôªÈ†Ç‰øØÁû∞ÂÖ®ÊôØ„ÄÇ" },
                        { time: "PM", type: "spot", name: "ËóçÊπñÊ∫´Ê≥â", desc: "Blue Lagoon", tips: "ÂãôÂøÖÈ†êÁ¥Ñ„ÄÇÈ†≠È´ÆË´ãÊäπÊΩ§È´Æ‰π≥Èò≤Ë≠∑„ÄÇ" },
                        { time: "01:00", type: "transport", name: "ÂáåÊô®Êê≠Ê©ü", desc: "ËøîÂõûÂì•Êú¨ÂìàÊ†π" }
                    ]},
                    // -----------------------------

                    { day: 6, date: "5Êúà22Êó•", shortDateOnly: "22", weekday: "FRI", location: "Malm√∂", title: "Ë£úÁú†Êó•", weatherIcon: "‚òÅÔ∏è", temp: "14¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "All Day", type: "rest", name: "‰ºëÊÅØ", desc: "ÊîæÈ¨ÜË°åÁ®ã" }
                    ]},
                    { day: 7, date: "5Êúà23Êó•", shortDateOnly: "23", weekday: "SAT", location: "Copenhagen", title: "‰∏πÈ∫•‰∏ÄÊó•ÈÅä", weatherIcon: "‚òÄÔ∏è", temp: "16¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "AM", type: "transport", name: "ÂâçÂæÄÂì•Êú¨ÂìàÊ†π", desc: "ÁÅ´Ëªä 35 ÂàÜÈêò" },
                        { time: "Day", type: "spot", name: "Tivoli & Áæé‰∫∫È≠ö", desc: "Êñ∞Ê∏ØÂΩ©Ëâ≤Â±ã", tips: "Tivoli ÊòØÂè§ËÄÅÈÅäÊ®ÇÂúí„ÄÇ" },
                        { time: "Must Eat", type: "food", name: "ÈñãÊîæÂºè‰∏âÊòéÊ≤ª", desc: "Sm√∏rrebr√∏d", tips: "Êé®Ëñ¶ Aamanns È§êÂª≥„ÄÇ" }
                    ]},
                    { day: 8, date: "5Êúà24Êó•", shortDateOnly: "24", weekday: "SUN", location: "Malm√∂", title: "ÊãúÊãúË°åÁ®ã", weatherIcon: "‚òÅÔ∏è", temp: "15¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "All Day", type: "spot", name: "ÁßÅ‰∫∫Ë°åÁ®ã", desc: "ÊãúÊãú" }
                    ]},
                    
                    // --- ÊñØÂæ∑Âì•ÁàæÊë©Ë°åÁ®ã (stockholmImage) ---
                    { day: 9, date: "5Êúà25Êó•", shortDateOnly: "25", weekday: "MON", location: "Stockholm", image: stockholmImage, title: "ÁßªÂãïËá≥ÊñØÂæ∑Âì•ÁàæÊë©", weatherIcon: "üå§Ô∏è", temp: "14¬∞", hotel: "ÊñØÂæ∑Âì•ÁàæÊë©", items: [
                        { time: "Morning", type: "transport", name: "Êê≠‰πòÂ∑¥Â£´", desc: "ËªäÁ®ãÁ¥Ñ 8 Â∞èÊôÇ", tips: "Ê∫ñÂÇôÈõ∂È£üËàáÈõªÂΩ±„ÄÇ" },
                        { time: "Night", type: "spot", name: "Â∏ÇÂçÄÈÄõË°ó", desc: "ÁöáÂêéË°óÊôöÈ§ê" }
                    ]},
                    { day: 10, date: "5Êúà26Êó•", shortDateOnly: "26", weekday: "TUE", location: "Stockholm", image: stockholmImage, title: "ÈÉµËº™‰πãÊóÖ", weatherIcon: "üö¢", temp: "12¬∞", hotel: "ÈÉµËº™‰∏ä", items: [
                        { time: "15:00", type: "transport", name: "ÂâçÂæÄÁ¢ºÈ†≠", desc: "Viking / Silja Line" },
                        { time: "17:00", type: "transport", name: "ÂïüËà™", desc: "ÂâçÂæÄËµ´ÁàæËæõÂü∫", tips: "È†êË®ÇÊµ∑ÈÆÆËá™Âä©ÊôöÈ§ê„ÄÇ" }
                    ]},
                    { day: 11, date: "5Êúà27Êó•", shortDateOnly: "27", weekday: "WED", location: "Helsinki", title: "Ëä¨Ëò≠Âø´ÈñÉ", weatherIcon: "üå§Ô∏è", temp: "13¬∞", hotel: "ÊñØÂæ∑Âì•ÁàæÊë©", items: [
                        { time: "10:00", type: "transport", name: "ÊäµÈÅîËµ´ÁàæËæõÂü∫", desc: "ÁôΩÊïôÂ†Ç„ÄÅÂ≤©Áü≥ÊïôÂ†Ç", tips: "Â∏ÇÈõÜÂª£Â†¥ÂñùÈÆÆÈ≠öÊπØ„ÄÇ" },
                        { time: "15:00", type: "transport", name: "ÈÉµËº™ÂõûÁ®ã", desc: "ËøîÂõûÁëûÂÖ∏" }
                    ]},
                    { day: 12, date: "5Êúà28Êó•", shortDateOnly: "28", weekday: "THU", location: "Stockholm", image: stockholmImage, title: "ÂçöÁâ©È§®Êó•", weatherIcon: "‚òÅÔ∏è", temp: "15¬∞", hotel: "ÊñØÂæ∑Âì•ÁàæÊë©", items: [
                        { time: "AM", type: "spot", name: "Áì¶Ëñ©Ê≤àËàπÂçöÁâ©È§®", desc: "Vasa Museum", tips: "ÂøÖÁúãÔºÅ17‰∏ñÁ¥ÄÊà∞Ëâ¶„ÄÇ" },
                        { time: "PM", type: "spot", name: "Skansen", desc: "Êà∂Â§ñÂçöÁâ©È§®" },
                        { time: "Dinner", type: "food", name: "ÁëûÂÖ∏ËÇâ‰∏∏", desc: "Meatballs for the People", tips: "S√∂dermalm ÂçÄÂêçÂ∫ó„ÄÇ" }
                    ]},
                    // -----------------------------

                    { day: 13, date: "5Êúà29Êó•", shortDateOnly: "29", weekday: "FRI", location: "Malm√∂", title: "ËøîÂõûÈ¶¨ÁàæÈªò", weatherIcon: "‚úàÔ∏è", temp: "16¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "Noon", type: "transport", name: "Êê≠È£õÊ©ü", desc: "ARN ‚Üí CPH/MMX" },
                        { time: "PM", type: "rest", name: "‰ºëÊÅØ", desc: "" }
                    ]},
                    { day: 14, date: "5Êúà30Êó•", shortDateOnly: "30", weekday: "SAT", location: "Gothenburg", title: "Âì•ÁâπÂ†°", weatherIcon: "‚òÄÔ∏è", temp: "17¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "Day", type: "spot", name: "‰∏ÄÊó•ÈÅä", desc: "ÁëûÂÖ∏Á¨¨‰∫åÂ§ßÂüé", tips: "Âéª Feskek√∂rka È≠öÊïôÂ†ÇÂêÉÊµ∑ÈÆÆ„ÄÇ" }
                    ]},
                    { day: 15, date: "5Êúà31Êó•", shortDateOnly: "31", weekday: "SUN", location: "Malm√∂", title: "‰ºëÊÅØÊó•", weatherIcon: "‚òÅÔ∏è", temp: "16¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "All Day", type: "rest", name: "‰ºëÊÅØ", desc: "" }
                    ]},
                    { day: 16, date: "6Êúà1Êó•", shortDateOnly: "1", weekday: "MON", location: "√Ñlmhult", title: "IKEA Á∏ΩÈÉ®", weatherIcon: "üõãÔ∏è", temp: "18¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "Day", type: "spot", name: "IKEA Museum", desc: "ÂìÅÁâåÁôºÊ∫êÂú∞", tips: "ÂìÅÂöêÊúÄÈÅìÂú∞ÁöÑËÇâ‰∏∏„ÄÇ" }
                    ]},
                    { day: 17, date: "6Êúà2Êó•", shortDateOnly: "2", weekday: "TUE", location: "Airport", title: "ÈÄÅÊ©ü", weatherIcon: "‚úàÔ∏è", temp: "18¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "11:55", type: "transport", name: "ÂºüÂºüÂõûÁ®ã", desc: "CPH ‚Üí TPE" }
                    ]},
                    { day: 18, date: "6Êúà3Êó•", shortDateOnly: "3", weekday: "WED", location: "Malm√∂", title: "Êé¢Ë¶™", weatherIcon: "‚òï", temp: "19¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "Day", type: "spot", name: "Èô™Â™ΩÂ™ΩÊâæÊúãÂèã", desc: "" }
                    ]},
                    { day: 19, date: "6Êúà4Êó•", shortDateOnly: "4", weekday: "THU", location: "Hamburg", title: "Âæ∑ÂúãÊº¢Â†°", weatherIcon: "üöÑ", temp: "20¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "AM", type: "transport", name: "Ë∑®ÂúãÁÅ´Ëªä", desc: "Ë®òÂæóÂ∏∂Ë≠∑ÁÖß" },
                        { time: "PM", type: "spot", name: "ÂæÆÁ∏ÆÊôØËßÄ‰∏ñÁïå", desc: "Miniatur Wunderland", tips: "‰∏ñÁïåÊúÄÂ§ßÈêµÈÅìÊ®°Âûã„ÄÇ" }
                    ]},
                    { day: 20, date: "6Êúà5Êó•", shortDateOnly: "5", weekday: "FRI", location: "Malm√∂", title: "Êé°Ë≤∑", weatherIcon: "üõçÔ∏è", temp: "18¬∞", hotel: "È¶¨ÁàæÈªò Malm√∂", items: [
                        { time: "Day", type: "spot", name: "ÊâìÂåÖË°åÊùé", desc: "Kalles ÁâôËÜè„ÄÅÂ∑ßÂÖãÂäõ" }
                    ]},
                    { day: 21, date: "6Êúà6Êó•", shortDateOnly: "6", weekday: "SAT", location: "Home", title: "Ê≠∏ÈÄî", weatherIcon: "‚úàÔ∏è", temp: "-", hotel: "Ê©ü‰∏ä", items: [
                        { time: "11:55", type: "transport", name: "È£õÊ©üËµ∑È£õ", desc: "CPH ‚Üí TPE" }
                    ]},
                    { day: 22, date: "6Êúà7Êó•", shortDateOnly: "7", weekday: "SUN", location: "Taipei", title: "ÊäµÈÅî", weatherIcon: "üè†", temp: "30¬∞", hotel: "Ê∫´ÊöñÁöÑÂÆ∂", items: [
                        { time: "16:40", type: "transport", name: "ÊäµÈÅîÊ°ÉÂúí", desc: "ÊóÖÁ®ãÁµêÊùü" }
                    ]}
                ],

                get activeDay() {
                    return this.itinerary[this.activeDayIndex];
                },
                
                scrollToDay(index) {
                    this.activeDayIndex = index;
                },

                getTypeColor(type) {
                    if (type === 'food') return 'bg-[#D35400] border-[#D35400]';
                    if (type === 'spot') return 'bg-[#C5A47E] border-[#C5A47E]';
                    if (type === 'transport') return 'bg-[#2C2825] border-[#2C2825]';
                    if (type === 'rest') return 'bg-[#7DCEA0] border-[#7DCEA0]';
                    return 'bg-gray-400';
                },
                
                getTypeLabel(type) {
                     if (type === 'food') return 'DINING';
                    if (type === 'spot') return 'SIGHTS';
                    if (type === 'transport') return 'TRAVEL';
                    if (type === 'rest') return 'RELAX';
                    return 'INFO';
                },

                openMap(location, city) {
                    const query = encodeURIComponent(`${location} ${city}`);
                    window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');
                },

                addExpense() {
                    if (this.newExpenseName && this.newExpenseAmount) {
                        this.expenses.push({
                            name: this.newExpenseName,
                            amount: this.newExpenseAmount
                        });
                        this.newExpenseName = '';
                        this.newExpenseAmount = '';
                    }
                },
                
                get totalExpense() {
                    const total = this.expenses.reduce((sum, item) => sum + Number(item.amount), 0);
                    return total > 0 ? total : 0;
                }
            }
        }
    </script>
</body>
</html>