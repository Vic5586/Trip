<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åŒ—æ­è¡Œæ—… Nordic Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.12.0/cdn.min.js" defer></script>
    <!-- å¼•å…¥æ­å¼è¥¯ç·šé«” (Playfair Display) ç”¨æ–¼è£é£¾æ•¸å­—èˆ‡è‹±æ–‡ï¼Œå…§æ–‡ä½¿ç”¨é»‘é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-cream: #F9F7F2;
            --deep-navy: #2C3E50;
            --terracotta: #D35400;
            --sage-green: #7DCEA0;
            --warm-gold: #F1C40F;
            --text-main: #34495E;
        }
        body {
            font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-cream);
            color: var(--text-main);
            -webkit-tap-highlight-color: transparent;
        }
        .serif-font {
            font-family: 'Playfair Display', serif;
        }
        /* å¡ç‰‡æ‡¸æµ®æ•ˆæœ */
        .card {
            background: #FFFFFF;
            border-radius: 12px;
            box-shadow: 0 10px 30px -10px rgba(44, 62, 80, 0.1);
            border: 1px solid rgba(44, 62, 80, 0.05);
            transition: transform 0.2s;
        }
        .card:active {
            transform: scale(0.99);
        }
        /* éš±è—æ²è»¸ä½†å¯æ»‘å‹• */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* è‡ªå®šç¾©æ¨™ç±¤é¡è‰² (è«è˜­è¿ªè‰²ç³») */
        .tag { padding: 4px 10px; border-radius: 4px; font-size: 0.7rem; font-weight: 700; letter-spacing: 0.05em; }
        .tag-food { background-color: #FAE5D3; color: #D35400; } /* æº«æš–é™¶è‰² */
        .tag-spot { background-color: #D6EAF8; color: #2980B9; } /* æŸ”å’Œè— */
        .tag-trans { background-color: #EAECEE; color: #566573; } /* è³ªæ„Ÿç° */
        .tag-rest { background-color: #D5F5E3; color: #27AE60; } /* é¼ å°¾è‰ç¶  */
        
    </style>
</head>
<body x-data="tripApp()">

    <!-- Header: æ­å¼æ·±è—è‰²å¡Šè¨­è¨ˆ -->
    <header class="fixed top-0 w-full bg-[#2C3E50] text-[#F9F7F2] z-50 shadow-md pt-12 pb-6 px-6 rounded-b-[24px]">
        <div class="flex justify-between items-end max-w-md mx-auto">
            <div>
                <p class="text-[10px] tracking-[0.2em] uppercase opacity-80 mb-1 font-bold">Nordic Trip 2025</p>
                <h1 class="text-3xl font-bold tracking-wide">åŒ—æ­è¡Œæ—…</h1>
            </div>
            <div class="text-right">
                <div class="text-xl serif-font italic" x-text="currentDateDisplay"></div>
                <div class="text-xs opacity-70 uppercase tracking-widest mt-1">Day <span x-text="currentDayNum" class="serif-font text-lg"></span></div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="pt-40 pb-28 px-5 max-w-md mx-auto min-h-screen">
        
        <!-- Tab: Itinerary -->
        <div x-show="activeTab === 'itinerary'" class="space-y-6">
            
            <!-- Date Scroller: è† å›Šå¼è¨­è¨ˆ -->
            <div class="flex overflow-x-auto space-x-3 pb-2 no-scrollbar snap-x py-2">
                <template x-for="(day, index) in itinerary" :key="index">
                    <button @click="scrollToDay(index)" 
                            :class="{'bg-[#D35400] text-white shadow-lg transform -translate-y-1': activeDayIndex === index, 'bg-white text-[#566573] border border-[#EAECEE]': activeDayIndex !== index}"
                            class="flex-shrink-0 w-12 h-14 rounded-xl flex flex-col items-center justify-center transition-all duration-300 snap-center">
                        <span class="text-[10px] font-bold tracking-wider" x-text="day.weekday"></span>
                        <span class="text-lg serif-font font-bold" x-text="day.shortDateOnly"></span>
                    </button>
                </template>
            </div>

            <!-- Active Day Card -->
            <div class="card p-0 overflow-hidden relative">
                <!-- Card Header Image/Pattern Area -->
                <div class="bg-[#ECF0F1] h-24 p-5 flex justify-between items-start relative">
                    <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#2C3E50 1px, transparent 1px); background-size: 10px 10px;"></div>
                    <div class="z-10">
                        <h2 class="text-2xl font-bold text-[#2C3E50]" x-text="activeDay.location"></h2>
                        <p class="text-sm text-[#7F8C8D] mt-1 font-medium" x-text="activeDay.title"></p>
                    </div>
                    <!-- Weather Stamp -->
                    <div class="z-10 bg-white/80 backdrop-blur-sm px-3 py-2 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center">
                        <span class="text-2xl" x-text="activeDay.weatherIcon"></span>
                        <span class="text-xs font-bold text-[#2C3E50] serif-font" x-text="activeDay.temp"></span>
                    </div>
                </div>

                <!-- Timeline Content -->
                <div class="p-6">
                    <div class="space-y-8 relative">
                        <!-- Vertical Line -->
                        <div class="absolute left-[7px] top-2 bottom-2 w-[2px] bg-[#EAECEE]"></div>

                        <template x-for="item in activeDay.items">
                            <div class="relative pl-8">
                                <!-- Dot -->
                                <div class="absolute left-0 top-1.5 w-4 h-4 rounded-full border-4 border-white shadow-sm z-10"
                                     :class="getTypeColor(item.type)"></div>
                                
                                <div>
                                    <div class="flex items-center gap-2 mb-1">
                                        <span class="text-xs font-bold text-[#D35400] tracking-wide serif-font" x-text="item.time"></span>
                                        <span class="tag" :class="getTypeTagClass(item.type)" x-text="getTypeLabel(item.type)"></span>
                                    </div>
                                    <h3 class="text-lg font-bold text-[#2C3E50] leading-tight" x-html="item.name"></h3>
                                    <p class="text-sm text-[#566573] mt-2 leading-relaxed" x-html="item.desc"></p>
                                    
                                    <!-- AI Tips: Note style -->
                                    <template x-if="item.tips">
                                        <div class="mt-3 bg-[#FEF9E7] p-3 rounded-lg border-l-4 border-[#F1C40F]">
                                            <p class="text-xs text-[#7D6608] font-bold mb-1">ğŸ’¡ å°éŠç­†è¨˜</p>
                                            <p class="text-xs text-[#566573]" x-html="item.tips"></p>
                                        </div>
                                    </template>
                                </div>

                                <!-- Buttons: Outline style -->
                                <div class="flex gap-3 mt-4">
                                    <button @click="openMap(item.name, activeDay.location)" 
                                            class="flex-1 text-xs border border-[#2C3E50] text-[#2C3E50] hover:bg-[#2C3E50] hover:text-white px-3 py-2 rounded font-bold transition-colors">
                                        ğŸ“ å°èˆª
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>

                <!-- Hotel Footer -->
                <div class="bg-[#F4F6F6] p-4 border-t border-[#EAECEE]">
                    <div class="flex items-center gap-3">
                        <div class="text-[#2C3E50] text-xl">ğŸ›</div>
                        <div>
                            <p class="text-[10px] text-[#95A5A6] uppercase tracking-widest font-bold">ä½å®¿åœ°é»</p>
                            <p class="text-sm font-bold text-[#2C3E50]" x-text="activeDay.hotel"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Tools -->
        <div x-show="activeTab === 'tools'" class="space-y-6">
            <h2 class="text-3xl font-bold text-[#2C3E50] mb-6">æ—…è¡Œå·¥å…·ç®±</h2>

            <!-- Flight Ticket Style -->
            <div class="card p-0 relative overflow-hidden">
                <div class="bg-[#2C3E50] h-3"></div> <!-- Blue top bar -->
                <div class="p-5">
                    <h3 class="text-lg font-bold text-[#2C3E50] mb-4 flex items-center gap-2">
                        <span>âœˆï¸</span> èˆªç­è³‡è¨Š
                    </h3>
                    <div class="space-y-4">
                        <!-- Flight 1 -->
                        <div class="border-b border-dashed border-gray-300 pb-4">
                            <div class="flex justify-between items-end">
                                <div>
                                    <div class="text-3xl font-black text-[#2C3E50] serif-font">TPE</div>
                                    <div class="text-xs text-gray-400">å°åŒ—</div>
                                </div>
                                <div class="text-gray-300 transform rotate-90 sm:rotate-0">âœˆ</div>
                                <div class="text-right">
                                    <div class="text-3xl font-black text-[#2C3E50] serif-font">CPH</div>
                                    <div class="text-xs text-gray-400">å“¥æœ¬å“ˆæ ¹</div>
                                </div>
                            </div>
                            <div class="mt-2 flex justify-between text-sm font-bold text-[#D35400]">
                                <span class="serif-font">5/17</span>
                                <span class="serif-font">16:10</span>
                            </div>
                        </div>
                        
                        <!-- Flight 2 -->
                        <div class="border-b border-dashed border-gray-300 pb-4">
                             <div class="flex justify-between items-end">
                                <div><span class="text-xl font-bold text-[#2C3E50] serif-font">CPH</span></div>
                                <div class="text-xs text-gray-500">å¼Ÿå¼Ÿå›ç¨‹</div>
                                <div><span class="text-xl font-bold text-[#2C3E50] serif-font">TPE</span></div>
                            </div>
                             <div class="mt-1 flex justify-between text-xs font-bold text-[#D35400]">
                                <span class="serif-font">6/2</span>
                                <span class="serif-font">11:55</span>
                            </div>
                        </div>

                        <!-- Flight 3 -->
                         <div>
                             <div class="flex justify-between items-end">
                                <div><span class="text-xl font-bold text-[#2C3E50] serif-font">CPH</span></div>
                                <div class="text-xs text-gray-500">æˆ‘å€‘å›ç¨‹</div>
                                <div><span class="text-xl font-bold text-[#2C3E50] serif-font">TPE</span></div>
                            </div>
                             <div class="mt-1 flex justify-between text-xs font-bold text-[#D35400]">
                                <span class="serif-font">6/6</span>
                                <span class="serif-font">11:55</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Emergency Card -->
            <div class="card p-5 border-l-4 border-[#C0392B]">
                <h3 class="text-lg font-bold text-[#C0392B] mb-4">ç·Šæ€¥è¯çµ¡é›»è©±</h3>
                <div class="grid grid-cols-2 gap-4">
                    <a href="tel:112" class="bg-[#F2D7D5] py-3 rounded text-center text-[#C0392B] font-bold">
                        <span class="block text-xs opacity-70">æ­ç›Ÿé€šç”¨</span>
                        SOS 112
                    </a>
                    <a href="tel:+4533123456" class="bg-gray-100 py-3 rounded text-center text-gray-700 font-bold">
                        <span class="block text-xs opacity-70">å¤–äº¤éƒ¨ç·Šæ€¥</span>
                        é§ä¸¹éº¥è™•
                    </a>
                </div>
            </div>

            <!-- Budget -->
            <div class="card p-5">
                <h3 class="text-lg font-bold text-[#2C3E50] mb-4">æ—…è²»è¨˜å¸³</h3>
                <div class="flex gap-2 mb-4">
                    <input type="text" x-model="newExpenseName" placeholder="é …ç›®" class="w-1/2 p-2 border-b border-gray-300 bg-transparent text-sm focus:outline-none focus:border-[#2C3E50]">
                    <input type="number" x-model="newExpenseAmount" placeholder="é‡‘é¡" class="w-1/3 p-2 border-b border-gray-300 bg-transparent text-sm focus:outline-none focus:border-[#2C3E50]">
                    <button @click="addExpense" class="text-[#2C3E50] text-xl font-bold w-10">+</button>
                </div>
                <div class="space-y-2">
                    <template x-for="(exp, i) in expenses" :key="i">
                        <div class="flex justify-between text-sm border-b border-dashed border-gray-200 pb-1">
                            <span x-text="exp.name"></span>
                            <span class="font-mono text-[#D35400] serif-font" x-text="exp.amount"></span>
                        </div>
                    </template>
                </div>
                <div class="mt-4 pt-2 border-t border-gray-300 flex justify-between font-bold text-lg text-[#2C3E50]">
                    <span>ç¸½è¨ˆ (Total)</span>
                    <span x-text="totalExpense" class="serif-font"></span>
                </div>
            </div>
        </div>

    </main>

    <!-- Bottom Navigation: æµ®å‹•å¼è¨­è¨ˆ -->
    <nav class="fixed bottom-6 left-6 right-6 bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 z-50 p-1">
        <div class="flex justify-around items-center py-2">
            <button @click="activeTab = 'itinerary'" class="flex items-center space-x-2 px-6 py-2 rounded-xl transition-all" 
                :class="activeTab === 'itinerary' ? 'bg-[#2C3E50] text-white shadow-md' : 'text-gray-400'">
                <span class="text-lg">ğŸ—º</span>
                <span class="text-xs font-bold tracking-wider" x-show="activeTab === 'itinerary'">æ¯æ—¥è¡Œç¨‹</span>
            </button>
            <button @click="activeTab = 'tools'" class="flex items-center space-x-2 px-6 py-2 rounded-xl transition-all" 
                :class="activeTab === 'tools' ? 'bg-[#2C3E50] text-white shadow-md' : 'text-gray-400'">
                <span class="text-lg">ğŸ§³</span>
                <span class="text-xs font-bold tracking-wider" x-show="activeTab === 'tools'">å·¥å…·ç®±</span>
            </button>
        </div>
    </nav>

    <script>
        function tripApp() {
            return {
                activeTab: 'itinerary',
                activeDayIndex: 0,
                newExpenseName: '',
                newExpenseAmount: '',
                expenses: [],
                
                // è¡Œç¨‹è³‡æ–™ (è½‰ç‚ºç¹é«”ä¸­æ–‡)
                itinerary: [
                    { day: 1, date: "5æœˆ17æ—¥", shortDateOnly: "17", weekday: "é€±æ—¥", location: "é£›è¡Œä¸­", title: "å‡ºç™¼å‰å¾€å“¥æœ¬å“ˆæ ¹", weatherIcon: "âœˆï¸", temp: "-", hotel: "ç‘å…¸ é¦¬çˆ¾é»˜", items: [
                        { time: "16:10", type: "transport", name: "å°åŒ—å‡ºç™¼", desc: "é£›å¾€å“¥æœ¬å“ˆæ ¹ (CPH)", tips: "é•·é€”é£›è¡Œè«‹è¨˜å¾—æ”œå¸¶é ¸æ•ã€ä¿æ¿•ç”¨å“ï¼Œä¸¦å¤šå–æ°´ã€‚" },
                        { time: "æ™šé–“", type: "transport", name: "å‰å¾€é¦¬çˆ¾é»˜", desc: "æ­ä¹˜ç«è»Šç©¿è¶Šè·¨æµ·å¤§æ©‹", tips: "æŠµé”å“¥æœ¬å“ˆæ ¹æ©Ÿå ´å¾Œï¼Œç«è»Šç«™åœ¨æ©Ÿå ´åœ°ä¸‹æ¨“å±¤ï¼Œç›´é”ç‘å…¸é¦¬çˆ¾é»˜ã€‚" }
                    ]},
                    { day: 2, date: "5æœˆ18æ—¥", shortDateOnly: "18", weekday: "é€±ä¸€", location: "é¦¬çˆ¾é»˜", title: "æŠµé”èˆ‡ä¼‘æ¯", weatherIcon: "ğŸŒ¥ï¸", temp: "13Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "07:00", type: "transport", name: "æŠµé”å“¥æœ¬å“ˆæ ¹æ©Ÿå ´", desc: "å‰å¾€é¦¬çˆ¾é»˜ä¼‘æ¯" },
                        { time: "å…¨å¤©", type: "rest", name: "é¦¬çˆ¾é»˜ä¼‘æ¯", desc: "èª¿æ•´æ™‚å·®", tips: "æ¨è–¦åˆ°å¸‚ä¸­å¿ƒçš„ Lilla Torg å°å»£å ´å–æ¯å’–å•¡ï¼Œæ„Ÿå—ç‘å…¸æ‚ é–’æ°£æ°›ã€‚" }
                    ]},
                    { day: 3, date: "5æœˆ19æ—¥", shortDateOnly: "19", weekday: "é€±äºŒ", location: "å†°å³¶", title: "é£›å¾€å†°å³¶é›·å…‹é›…ç¶­å…‹", weatherIcon: "ğŸŒ¬ï¸", temp: "8Â°C", hotel: "é›·å…‹é›…ç¶­å…‹", items: [
                        { time: "ä¸Šåˆ", type: "transport", name: "å‰å¾€æ©Ÿå ´", desc: "å“¥æœ¬å“ˆæ ¹ -> å‡±å¤«æ‹‰ç¶­å…‹ (KEF)" },
                        { time: "æ™šä¸Š", type: "spot", name: "æŠµé”é›·å…‹é›…ç¶­å…‹", desc: "é£¯åº—å…¥ä½", tips: "æ©Ÿå ´åˆ°å¸‚å€ç´„45åˆ†é˜ã€‚æ¨è–¦å˜—è©¦æ¸¯å£é‚Šè‘—åçš„ BÃ¦jarins Beztu Pylsur ç†±ç‹—å ¡ã€‚" }
                    ]},
                    { day: 4, date: "5æœˆ20æ—¥", shortDateOnly: "20", weekday: "é€±ä¸‰", location: "å†°å³¶", title: "é»ƒé‡‘åœˆä¸€æ—¥éŠ", weatherIcon: "ğŸŒ§ï¸", temp: "7Â°C", hotel: "é›·å…‹é›…ç¶­å…‹", items: [
                        { time: "ä¸Šåˆ", type: "spot", name: "è¾›æ ¼ç¶­åˆ©çˆ¾åœ‹å®¶å…¬åœ’", desc: "Ãingvellir", tips: "æ¬ŠåŠ›éŠæˆ²æ‹æ”åœ°ï¼Œä¹Ÿæ˜¯æ­ç¾æ¿å¡Šçš„äº¤ç•Œè™•ï¼Œæ™¯è‰²å£¯è§€ã€‚" },
                        { time: "ä¸­åˆ", type: "spot", name: "Geysir é–“æ­‡æ³‰", desc: "åœ°ç†±å€", tips: "Strokkur é–“æ­‡æ³‰æ¯ 5-10 åˆ†é˜å™´ç™¼ä¸€æ¬¡ï¼Œè«‹ç«™åœ¨ä¸Šé¢¨è™•ä»¥å…æ·‹æ¿•ã€‚" },
                        { time: "ä¸‹åˆ", type: "spot", name: "Gullfoss é»ƒé‡‘ç€‘å¸ƒ", desc: "é›™å±¤å·¨å¤§ç€‘å¸ƒ", tips: "æ°´é‡å·¨å¤§ï¼Œå»ºè­°ç©¿è‘—é˜²æ°´å¤–å¥—ã€‚" },
                        { time: "åŠ ç¢¼", type: "spot", name: "KeriÃ° ç«å±±å£æ¹–", desc: "éœ€é–€ç¥¨", tips: "ç´…è‰²çš„ç«å±±å²©èˆ‡è—ç¶ è‰²çš„æ¹–æ°´å½¢æˆå¼·çƒˆå°æ¯”ï¼Œæ‹ç…§æ¥µç¾ã€‚" }
                    ]},
                    { day: 5, date: "5æœˆ21æ—¥", shortDateOnly: "21", weekday: "é€±å››", location: "å†°å³¶", title: "è—æ¹–æº«æ³‰èˆ‡å¸‚å€", weatherIcon: "ğŸŒ¤ï¸", temp: "9Â°C", hotel: "5/22 å‡Œæ™¨æ­æ©Ÿ", items: [
                        { time: "ä¸Šåˆ", type: "spot", name: "é›·å…‹é›…ç¶­å…‹å¸‚å€", desc: "å“ˆçˆ¾æ ¼æ—å§†æ•™å ‚ã€å¤ªé™½èˆªè¡Œè€…", tips: "æ•™å ‚é ‚æ¨“å¯æ­é›»æ¢¯ä¿¯ç°å¸‚å€å…¨æ™¯ï¼ˆéœ€è³¼ç¥¨ï¼‰ã€‚" },
                        { time: "ä¸‹åˆ", type: "spot", name: "è—æ¹–æº«æ³‰ (Blue Lagoon)", desc: "å¤¢å¹»åœ°ç†±æº«æ³‰", tips: "å‹™å¿…æå‰é ç´„ï¼ä¸‹æ°´å‰é ­é«®è¦æŠ¹æ½¤é«®ä¹³ä»¥å…ä¹¾æ¾€ï¼Œæº«æ³‰æ³¥é¢è†œå¿…æ•·ã€‚" },
                        { time: "01:00", type: "transport", name: "å‰å¾€æ©Ÿå ´", desc: "é£›å›å“¥æœ¬å“ˆæ ¹/é¦¬çˆ¾é»˜" }
                    ]},
                    { day: 6, date: "5æœˆ22æ—¥", shortDateOnly: "22", weekday: "é€±äº”", location: "é¦¬çˆ¾é»˜", title: "è£œçœ æ—¥", weatherIcon: "â˜ï¸", temp: "14Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "å…¨å¤©", type: "rest", name: "é¦¬çˆ¾é»˜ä¼‘æ¯", desc: "æ”¾é¬†è¡Œç¨‹" }
                    ]},
                    { day: 7, date: "5æœˆ23æ—¥", shortDateOnly: "23", weekday: "é€±å…­", location: "å“¥æœ¬å“ˆæ ¹", title: "ä¸¹éº¥ä¸€æ—¥éŠ", weatherIcon: "â˜€ï¸", temp: "16Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "ä¸Šåˆ", type: "transport", name: "å‰å¾€å“¥æœ¬å“ˆæ ¹", desc: "ç«è»Šç´„35åˆ†é˜" },
                        { time: "å…¨å¤©", type: "spot", name: "Tivoli éŠæ¨‚åœ’ & ç¾äººé­š", desc: "å¸‚å€è§€å…‰", tips: "æ–°æ¸¯ (Nyhavn) çš„å½©è‰²å±‹æ˜¯å¿…æ‹æ™¯é»ã€‚Tivoli æ˜¯ä¸–ç•Œæœ€å¤è€éŠæ¨‚åœ’ä¹‹ä¸€ã€‚" },
                        { time: "å¿…åƒ", type: "food", name: "é–‹æ”¾å¼ä¸‰æ˜æ²»", desc: "SmÃ¸rrebrÃ¸d", tips: "æ¨è–¦é¤å»³ï¼šAamanns æˆ– SchÃ¸nnemannï¼Œæ˜¯ä¸¹éº¥ç¶“å…¸åˆé¤ã€‚" },
                        { time: "å‚æ™š", type: "transport", name: "è¿”å›é¦¬çˆ¾é»˜", desc: "" }
                    ]},
                    { day: 8, date: "5æœˆ24æ—¥", shortDateOnly: "24", weekday: "é€±æ—¥", location: "é¦¬çˆ¾é»˜", title: "æ‹œæ‹œè¡Œç¨‹", weatherIcon: "â˜ï¸", temp: "15Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "å…¨å¤©", type: "spot", name: "æ‹œæ‹œè¡Œç¨‹", desc: "ä¾å€‹äººå®‰æ’" }
                    ]},
                    { day: 9, date: "5æœˆ25æ—¥", shortDateOnly: "25", weekday: "é€±ä¸€", location: "æ–¯å¾·å“¥çˆ¾æ‘©", title: "ç§»å‹•æ—¥", weatherIcon: "ğŸŒ¤ï¸", temp: "14Â°C", hotel: "æ–¯å¾·å“¥çˆ¾æ‘©", items: [
                        { time: "æ—©ä¸Š", type: "transport", name: "æ­ä¹˜å·´å£«", desc: "å‰å¾€æ–¯å¾·å“¥çˆ¾æ‘© (8å°æ™‚)", tips: "è»Šç¨‹è¼ƒé•·ï¼Œå»ºè­°æº–å‚™é›¶é£Ÿèˆ‡ä¸‹è¼‰é›¢ç·šé›»å½±ã€‚" },
                        { time: "æ™šä¸Š", type: "spot", name: "å¸‚å€é€›è¡—", desc: "æ™šé¤", tips: "çš‡åè¡— (Drottninggatan) æ˜¯ä¸»è¦è³¼ç‰©è¡—ã€‚" }
                    ]},
                    { day: 10, date: "5æœˆ26æ—¥", shortDateOnly: "26", weekday: "é€±äºŒ", location: "éƒµè¼ª", title: "å‰å¾€èµ«çˆ¾è¾›åŸº", weatherIcon: "ğŸš¢", temp: "12Â°C", hotel: "éƒµè¼ªä¸Š", items: [
                        { time: "15:00", type: "transport", name: "å‰å¾€ç¢¼é ­", desc: "æ­ä¹˜ Viking / Silja Line", tips: "é–‹èˆ¹æ™‚çš„ç¾¤å³¶é¢¨å…‰éå¸¸ç¾éº—ï¼Œä¸è¦éŒ¯éã€‚" },
                        { time: "17:00", type: "transport", name: "éƒµè¼ªå•Ÿèˆª", desc: "å‰å¾€èŠ¬è˜­", tips: "èˆ¹ä¸Šæœ‰å…ç¨…åº—å’Œè‡ªåŠ©é¤ï¼Œå»ºè­°æå‰é è¨‚æµ·é®® Buffetã€‚" }
                    ]},
                    { day: 11, date: "5æœˆ27æ—¥", shortDateOnly: "27", weekday: "é€±ä¸‰", location: "èµ«çˆ¾è¾›åŸº", title: "èŠ¬è˜­å¿«é–ƒ", weatherIcon: "ğŸŒ¤ï¸", temp: "13Â°C", hotel: "æ–¯å¾·å“¥çˆ¾æ‘©", items: [
                        { time: "10:00", type: "transport", name: "æŠµé”èµ«çˆ¾è¾›åŸº", desc: "å¸‚å€è§€å…‰", tips: "å¿…å»ï¼šç™½æ•™å ‚ã€å²©çŸ³æ•™å ‚ã€‚å¸‚é›†å»£å ´å¯ä»¥å–åˆ°å¥½å–çš„é®­é­šæ¹¯ã€‚" },
                        { time: "15:00", type: "transport", name: "æ­èˆ¹å›ç¨‹", desc: "è¿”å›æ–¯å¾·å“¥çˆ¾æ‘©" }
                    ]},
                    { day: 12, date: "5æœˆ28æ—¥", shortDateOnly: "28", weekday: "é€±å››", location: "æ–¯å¾·å“¥çˆ¾æ‘©", title: "åšç‰©é¤¨ä¹‹æ—¥", weatherIcon: "â˜ï¸", temp: "15Â°C", hotel: "æ–¯å¾·å“¥çˆ¾æ‘©", items: [
                        { time: "ä¸Šåˆ", type: "spot", name: "ç“¦è–©æ²ˆèˆ¹åšç‰©é¤¨", desc: "Vasa Museum", tips: "ä¿å­˜æœ€å®Œæ•´çš„17ä¸–ç´€æˆ°è‰¦ï¼Œéå¸¸éœ‡æ’¼ï¼Œå¿…çœ‹ï¼" },
                        { time: "ä¸‹åˆ", type: "spot", name: "Skansen æˆ¶å¤–åšç‰©é¤¨", desc: "èˆ‡å‹•ç‰©åœ’", tips: "ä¸–ç•Œä¸Šæœ€æ—©çš„æˆ¶å¤–åšç‰©é¤¨ï¼Œå±•ç¾ç‘å…¸å‚³çµ±ç”Ÿæ´»ã€‚" },
                        { time: "æ™šé¤", type: "food", name: "ç‘å…¸è‚‰ä¸¸", desc: "Meatballs for the People", tips: "ä½æ–¼ SÃ¶dermalm å€çš„ååº—ï¼Œå£æ„Ÿæ¯” IKEA å¥½å¾ˆå¤šã€‚" }
                    ]},
                    { day: 13, date: "5æœˆ29æ—¥", shortDateOnly: "29", weekday: "é€±äº”", location: "é¦¬çˆ¾é»˜", title: "è¿”å›å—éƒ¨", weatherIcon: "âœˆï¸", temp: "16Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "ä¸­åˆ", type: "transport", name: "æ­é£›æ©Ÿ", desc: "ARN æ©Ÿå ´ -> é¦¬çˆ¾é»˜" },
                        { time: "ä¸‹åˆ", type: "rest", name: "ä¼‘æ¯", desc: "å›åˆ°é¦¬çˆ¾é»˜" }
                    ]},
                    { day: 14, date: "5æœˆ30æ—¥", shortDateOnly: "30", weekday: "é€±å…­", location: "å“¥ç‰¹å ¡", title: "å“¥ç‰¹å ¡ä¸€æ—¥éŠ", weatherIcon: "â˜€ï¸", temp: "17Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "å…¨å¤©", type: "spot", name: "å“¥ç‰¹å ¡ (Gothenburg)", desc: "ç•¶æ—¥ä¾†å›", tips: "ç‘å…¸ç¬¬äºŒå¤§åŸã€‚æ¨è–¦å»ã€Œé­šæ•™å ‚ (Feskekorka)ã€åƒæµ·é®®ã€‚" }
                    ]},
                    { day: 15, date: "5æœˆ31æ—¥", shortDateOnly: "31", weekday: "é€±æ—¥", location: "é¦¬çˆ¾é»˜", title: "ä¼‘æ¯æ—¥", weatherIcon: "â˜ï¸", temp: "16Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                         { time: "å…¨å¤©", type: "rest", name: "é¦¬çˆ¾é»˜ä¼‘æ¯", desc: "" }
                    ]},
                    { day: 16, date: "6æœˆ1æ—¥", shortDateOnly: "1", weekday: "é€±ä¸€", location: "Ã„lmhult", title: "IKEA ç¸½éƒ¨æœè–", weatherIcon: "ğŸ›‹ï¸", temp: "18Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "å…¨å¤©", type: "spot", name: "IKEA Museum", desc: "é˜¿å§†èƒ¡ç‰¹ä¸€æ—¥éŠ", tips: "é€™è£¡æ˜¯ IKEA çš„ç™¼æºåœ°ã€‚åšç‰©é¤¨é¤å»³æœ‰æœ€é“åœ°çš„ç‘å…¸è‚‰ä¸¸ã€‚" }
                    ]},
                    { day: 17, date: "6æœˆ2æ—¥", shortDateOnly: "2", weekday: "é€±äºŒ", location: "æ©Ÿå ´", title: "å¼Ÿå¼Ÿå›ç¨‹", weatherIcon: "âœˆï¸", temp: "18Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "11:55", type: "transport", name: "å¼Ÿå¼Ÿé£›æ©Ÿèµ·é£›", desc: "CPH -> TPE", tips: "è¨˜å¾—é ç•™æ™‚é–“è¾¦ç†é€€ç¨…ã€‚" }
                    ]},
                    { day: 18, date: "6æœˆ3æ—¥", shortDateOnly: "3", weekday: "é€±ä¸‰", location: "é¦¬çˆ¾é»˜", title: "æ¢è¦ªæ—¥", weatherIcon: "â˜•", temp: "19Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "å…¨å¤©", type: "spot", name: "é™ªåª½åª½æ‰¾æœ‹å‹", desc: "ç§äººè¡Œç¨‹" }
                    ]},
                    { day: 19, date: "6æœˆ4æ—¥", shortDateOnly: "4", weekday: "é€±å››", location: "æ¼¢å ¡", title: "å¾·åœ‹æ¼¢å ¡ä¸€æ—¥éŠ", weatherIcon: "ğŸš„", temp: "20Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "æ—©ä¸Š", type: "transport", name: "æ­ç«è»Šå‰å¾€æ¼¢å ¡", desc: "è·¨åœ‹ç«è»Š", tips: "è¨˜å¾—éš¨èº«æ”œå¸¶è­·ç…§ã€‚" },
                        { time: "ä¸‹åˆ", type: "spot", name: "å¾®ç¸®æ™¯è§€ä¸–ç•Œ", desc: "Miniatur Wunderland", tips: "ä¸–ç•Œæœ€å¤§çš„éµé“æ¨¡å‹åšç‰©é¤¨ï¼Œç´°ç¯€é©šäººï¼Œå¼·çƒˆæ¨è–¦ï¼" }
                    ]},
                    { day: 20, date: "6æœˆ5æ—¥", shortDateOnly: "5", weekday: "é€±äº”", location: "é¦¬çˆ¾é»˜", title: "æœ€å¾Œæ¡è²·", weatherIcon: "ğŸ›ï¸", temp: "18Â°C", hotel: "é¦¬çˆ¾é»˜", items: [
                        { time: "å…¨å¤©", type: "spot", name: "è³¼ç‰©èˆ‡æ‰“åŒ…", desc: "æº–å‚™å›åœ‹", tips: "è¶…å¸‚å¿…è²·ï¼šKalles é­šå­é†¬ç‰™è†ã€Marabou å·§å…‹åŠ›ã€Dala Horse æœ¨é¦¬ã€‚" }
                    ]},
                    { day: 21, date: "6æœˆ6æ—¥", shortDateOnly: "6", weekday: "é€±å…­", location: "å›å®¶", title: "è¸ä¸Šæ­¸é€”", weatherIcon: "âœˆï¸", temp: "-", hotel: "é£›æ©Ÿä¸Š", items: [
                        { time: "11:55", type: "transport", name: "é£›æ©Ÿèµ·é£›", desc: "CPH -> TPE", tips: "å†è¦‹åŒ—æ­ï¼" }
                    ]},
                    { day: 22, date: "6æœˆ7æ—¥", shortDateOnly: "7", weekday: "é€±æ—¥", location: "å°åŒ—", title: "æŠµé”å°ç£", weatherIcon: "ğŸ ", temp: "30Â°C", hotel: "æº«æš–çš„å®¶", items: [
                        { time: "16:40", type: "transport", name: "æŠµé”æ¡ƒåœ’æ©Ÿå ´", desc: "æ—…ç¨‹çµæŸ" }
                    ]}
                ],

                get activeDay() {
                    return this.itinerary[this.activeDayIndex];
                },
                
                get currentDateDisplay() {
                    return this.activeDay.date;
                },

                get currentDayNum() {
                    return this.activeDay.day;
                },

                get totalExpense() {
                    const total = this.expenses.reduce((sum, item) => sum + Number(item.amount), 0);
                    return total > 0 ? total : 0;
                },

                scrollToDay(index) {
                    this.activeDayIndex = index;
                },

                getTypeColor(type) {
                    if (type === 'food') return 'bg-[#D35400]';
                    if (type === 'spot') return 'bg-[#2980B9]';
                    if (type === 'transport') return 'bg-[#566573]';
                    if (type === 'rest') return 'bg-[#27AE60]';
                    return 'bg-gray-400';
                },
                
                getTypeTagClass(type) {
                     if (type === 'food') return 'tag-food';
                    if (type === 'spot') return 'tag-spot';
                    if (type === 'transport') return 'tag-trans';
                    if (type === 'rest') return 'tag-rest';
                    return '';
                },
                
                getTypeLabel(type) {
                     if (type === 'food') return 'ç¾é£Ÿ';
                    if (type === 'spot') return 'æ™¯é»';
                    if (type === 'transport') return 'äº¤é€š';
                    if (type === 'rest') return 'ä¼‘æ¯';
                    return 'è³‡è¨Š';
                },

                openMap(location, city) {
                    const query = encodeURIComponent(`${location} ${city}`);
                    window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');
                },

                addExpense() {
                    if (this.newExpenseName && this.newExpenseAmount) {
                        this.expenses.push({
                            name: this.newExpenseName,
                            amount: this.newExpenseAmount
                        });
                        this.newExpenseName = '';
                        this.newExpenseAmount = '';
                    }
                }
            }
        }
    </script>
</body>
</html>
